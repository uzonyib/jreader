<html xmlns:concordion="http://www.concordion.org/2007/concordion">
	<head>
		<title>Group related tests</title>
	</head>
	<body>
	
		<h1>Group related tests</h1>
		
		<p>
			When <span concordion:execute="setUsername(#TEXT)">user1</span> is a new user
			then the group size is <span concordion:assertEquals="getGroupCount()">0</span>.
		</p>
		
		<p>
			Given <span concordion:execute="setUsername(#TEXT)">user2</span> is a new user
			when he creates a new group with title <span concordion:execute="createGroup(#TEXT)">group1</span>
			then the group size is <span concordion:assertEquals="getGroupCount()">1</span>
			and the group list will contain:
		</p>
		<table concordion:verifyRows="#group : getGroups()">
	       	<tr><th concordion:assertEquals="#group.title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	   	</table>
	   	
	   	<p>
			Given <span concordion:execute="setUsername(#TEXT)">user3</span> has the following groups:
		</p>
		<table concordion:execute="createGroup(#title)">
	       	<tr><th concordion:set="#title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
		<p>
			when he creates a new group with title <span concordion:execute="createGroup(#TEXT)">group4</span>
			then the group size is <span concordion:assertEquals="getGroupCount()">4</span>
			and the group list will contain:
		</p>
		<table concordion:verifyRows="#group : getGroups()">
	       	<tr><th concordion:assertEquals="#group.title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group3</td></tr>
	       	<tr><td>group4</td></tr>
	   	</table>
	   	
	   	<p>
			Given <span concordion:execute="setUsername(#TEXT)">user4</span> has the following groups:
		</p>
		<table concordion:execute="createGroup(#title)">
	       	<tr><th concordion:set="#title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	   	</table>
		<p>
			when he deletes the <span concordion:execute="deleteGroup(#TEXT)">1</span>st
			then the group size is <span concordion:assertEquals="getGroupCount()">0</span>.
		</p>
	   	
	   	<p>
			Given <span concordion:execute="setUsername(#TEXT)">user5</span> has the following groups:
		</p>
		<table concordion:execute="createGroup(#title)">
	       	<tr><th concordion:set="#title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
		<p>
			when he deletes the <span concordion:execute="deleteGroup(#TEXT)">2</span>nd
			then the group size is <span concordion:assertEquals="getGroupCount()">2</span>
			and the group list will contain:
		</p>
		<table concordion:verifyRows="#group : getGroups()">
	       	<tr><th concordion:assertEquals="#group.title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
	   	
	   	<p>
			Given <span concordion:execute="setUsername(#TEXT)">user6</span> has the following groups:
		</p>
		<table concordion:execute="createGroup(#title)">
	       	<tr><th concordion:set="#title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
		<p>
			when he changes the title of the <span concordion:set="#index">2</span>nd to <span concordion:execute="entitleGroup(#index, #TEXT)">test</span>
			then the group size is <span concordion:assertEquals="getGroupCount()">3</span>
			and the group list will contain:
		</p>
		<table concordion:verifyRows="#group : getGroups()">
	       	<tr><th concordion:assertEquals="#group.title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>test</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
	   	
	   	<p>
			Given <span concordion:execute="setUsername(#TEXT)">user7</span> has the following groups:
		</p>
		<table concordion:execute="createGroup(#title)">
	       	<tr><th concordion:set="#title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
		<p>
			when he moves the <span concordion:set="#index">1</span>st <span concordion:execute="moveGroup(#index, #TEXT)">down</span>
			then the group size is <span concordion:assertEquals="getGroupCount()">3</span>
			and the group list will contain:
		</p>
		<table concordion:verifyRows="#group : getGroups()">
	       	<tr><th concordion:assertEquals="#group.title">Title</th></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
	   	
	   	<p>
			Given <span concordion:execute="setUsername(#TEXT)">user8</span> has the following groups:
		</p>
		<table concordion:execute="createGroup(#title)">
	       	<tr><th concordion:set="#title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group2</td></tr>
	       	<tr><td>group3</td></tr>
	   	</table>
		<p>
			when he moves the <span concordion:set="#index">3</span>rd <span concordion:execute="moveGroup(#index, #TEXT)">up</span>
			then the group size is <span concordion:assertEquals="getGroupCount()">3</span>
			and the group list will contain:
		</p>
		<table concordion:verifyRows="#group : getGroups()">
	       	<tr><th concordion:assertEquals="#group.title">Title</th></tr>
	       	<tr><td>group1</td></tr>
	       	<tr><td>group3</td></tr>
	       	<tr><td>group2</td></tr>
	   	</table>
	   	
	</body>
</html>